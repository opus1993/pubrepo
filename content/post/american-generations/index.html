---
date: "2020-06-16"
diagram: true
# Featured image
# To use, add an image named `featured.jpg/png` to your page's folder.
# Focal points: Smart, Center, TopLeft, Top, TopRight, Left, Right, BottomLeft, Bottom, BottomRight.
image: 
  caption: ''
  focal_point: "TopRight"
  preview_only: false
title: 'The Seven Living Generations in America'
author: "Jim Gruman"
output: 
 blogdown::html_page:
  toc: false
categories: [R]
description: "The composition of American generations per Pew Research & US Census"
featured: false
draft: false
---

<script src="/rmarkdown-libs/kePrint/kePrint.js"></script>


<blockquote>
<p>Inspired by <a href="https://www.jtimm.net/2020/06/10/american-generations/">Jason Timm’s post</a></p>
</blockquote>
<div id="american-generations" class="section level3">
<h3>American Generations</h3>
<p>Let’s have a look at the composition of American generations with Pew Research definitions and US Census data.</p>
<p>The outcome: a perspective on the changing demographics of America.</p>
<p>Four of America’s seven living generations are more or less “complete,” and only getting smaller: <code>Greatest</code>, <code>Silent</code>, <code>Boomers</code>, and <code>Gen X</code>. The generation comprised of <code>Millenials</code> is complete as well, in that it has been delineated chronologically; however, the group likely continues to grow via immigration.</p>
<pre class="r"><code>library(tidyverse) # tidy data manipulation, including dplyr and ggplot
library(lubridate)   # date manipulation tools
theme_set(hrbrthemes::theme_ipsum_tw())   # Set a ggplot color, font theme
showtext::showtext_auto() # helps to locate windows fonts
options(tigris_use_cache = TRUE) # helps with mapping functions

gen &lt;- c(&#39;Post-Z&#39;, &#39;Gen Z&#39;, &#39;Millennial&#39;, 
         &#39;Gen X&#39;, &#39;Boomers&#39;, &#39;Silent&#39;, 
         &#39;Greatest&#39;)

range &lt;- c(&#39;&gt; 2012&#39;, &#39;1997-2012&#39;, &#39;1981-1996&#39;, 
           &#39;1965-1980&#39;, &#39;1946-1964&#39;, &#39;1928-1945&#39;, 
           &#39;&lt; 1927&#39;)

gen_desc &lt;- tibble(rank = 7:1,
                       gen = gen,
                       range = range) %&gt;%
            arrange(rank)

gen_desc %&gt;%
  knitr::kable(format = &quot;html&quot;, booktabs = T, caption = &quot;Pew Research Definitions&quot;) %&gt;%
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;), full_width = F) %&gt;%
  kableExtra::add_footnote(c(&quot;https://www.pewresearch.org/fact-tank/2019/01/17/where-millennials-end-and-generation-z-begins/&quot;))</code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-1">Table 1: </span>Pew Research Definitions
</caption>
<thead>
<tr>
<th style="text-align:right;">
rank
</th>
<th style="text-align:left;">
gen
</th>
<th style="text-align:left;">
range
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Greatest
</td>
<td style="text-align:left;">
&lt; 1927
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Silent
</td>
<td style="text-align:left;">
1928-1945
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Boomers
</td>
<td style="text-align:left;">
1946-1964
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Gen X
</td>
<td style="text-align:left;">
1965-1980
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Millennial
</td>
<td style="text-align:left;">
1981-1996
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Gen Z
</td>
<td style="text-align:left;">
1997-2012
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Post-Z
</td>
<td style="text-align:left;">
&gt; 2012
</td>
</tr>
</tbody>
<tfoot>
<tr>
<td style="padding: 0; border:0;" colspan="100%">
<sup>a</sup> <a href="https://www.pewresearch.org/fact-tank/2019/01/17/where-millennials-end-and-generation-z-begins/" class="uri">https://www.pewresearch.org/fact-tank/2019/01/17/where-millennials-end-and-generation-z-begins/</a>
</td>
</tr>
</tfoot>
</table>
<p>While <code>Gen Z</code> has been tentatively stamped chronologically by the folks at Pew Research, only the very eldest in the group have just entered the work force. Lot’s can happen still here. And though we include them here, the <code>Post-Z</code> generation is mostly but a twinkle in someones eye; half of the group has yet to be born.</p>
</div>
<div id="monthly-us-population-estimates" class="section level3">
<h3>Monthly US population estimates</h3>
<p><em>Monthly Postcensal Resident Population plus Armed Forces Overseas, December 2018</em>, as is made available by the US Census <a href="https://www.census.gov/newsroom/press-kits/2019/detailed-estimates.html">here</a>. The census has transitioned to a new online interface, and some data sets have been discontinued. The data set utilized here is slightly dated.</p>
<pre class="r"><code>pops &lt;- read_csv(
  url(&#39;https://www2.census.gov/programs-surveys/popest/datasets/2010-2018/national/asrh/nc-est2018-alldata-p-File18.csv&#39;)) %&gt;%
  filter(MONTH == &#39;12&#39; &amp; YEAR == &#39;2018&#39;) %&gt;%
  pivot_longer(names_to = &quot;race&quot;,
               values_to = &quot;pop&quot;,
               cols = c(-UNIVERSE:-AGE))</code></pre>
<p>A more detailed description of the population estimates can be found <a href="https://www2.census.gov/programs-surveys/popest/technical-documentation/file-layouts/2010-2018/nc-est2018-alldata.pdf">here</a>. Note: Race categories reflect non-Hispanic populations.</p>
<pre class="r"><code>race &lt;- c(&#39;NHWA&#39;, &#39;NHBA&#39;, &#39;NHIA&#39;, 
          &#39;NHAA&#39;, &#39;NHNA&#39;, &#39;NHTOM&#39;, &#39;H&#39;)

race1 &lt;- c(&#39;White Alone&#39;,
           &#39;Black Alone&#39;,
           &#39;American Indian Alone&#39;,
           &#39;Asian Alone&#39;,
           &#39;Native Hawaiian Alone&#39;,
           &#39;Two or More Races&#39;,
           &#39;Hispanic&#39;)

labels &lt;- tibble(race = race, 
                     race1=race1)

search &lt;- paste(paste0(&#39;^&#39;,race, &#39;_&#39;), collapse =  &#39;|&#39;)</code></pre>
<p>The following table details <strong>a random sample of the data set</strong> – with Pew Research defined generations &amp; estimated year-of-birth.</p>
<pre class="r"><code>gen_pops &lt;- pops %&gt;%
  filter(grepl(search, race)) %&gt;%
  mutate(race = gsub(&#39;_.*$&#39;, &#39;&#39;, race)) %&gt;%
  group_by(AGE, race) %&gt;%
  summarise(pop = sum(pop))%&gt;%
  left_join(labels) %&gt;%
  filter(AGE != &#39;999&#39;) %&gt;%
  mutate(yob = 2019 - AGE)  %&gt;% ##
  mutate (gen = case_when (
    yob &lt; 2013 &amp; yob &gt; 1996 ~ &#39;Gen Z&#39;,
    yob &lt; 1997 &amp; yob &gt; 1980 ~ &#39;Millennial&#39;,
    yob &lt; 1981 &amp; yob &gt; 1964 ~ &#39;Gen X&#39;,
    yob &lt; 1965 &amp; yob &gt; 1945 ~ &#39;Boomers&#39;,
    yob &lt; 1946 &amp; yob &gt; 1927 ~ &#39;Silent&#39;,
    yob &lt; 1928 ~ &#39;Greatest&#39;,
    yob &gt; 2012 ~ &#39;Post-Z&#39;)) %&gt;%
  left_join(gen_desc) %&gt;%
  ungroup() %&gt;%
  select(gen, rank, range, race, 
         race1, yob, AGE, pop)

set.seed(999)
gen_pops %&gt;% sample_n(7)  %&gt;%
  select(gen, range, race1:pop) %&gt;%
  knitr::kable(format = &quot;html&quot;, booktabs = T, caption = &quot;Seven Sample Census Data Lines with Pew Generational Definitions&quot;) %&gt;%
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;), full_width = F) </code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-4">Table 2: </span>Seven Sample Census Data Lines with Pew Generational Definitions
</caption>
<thead>
<tr>
<th style="text-align:left;">
gen
</th>
<th style="text-align:left;">
range
</th>
<th style="text-align:left;">
race1
</th>
<th style="text-align:right;">
yob
</th>
<th style="text-align:right;">
AGE
</th>
<th style="text-align:right;">
pop
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
Gen X
</td>
<td style="text-align:left;">
1965-1980
</td>
<td style="text-align:left;">
Asian Alone
</td>
<td style="text-align:right;">
1973
</td>
<td style="text-align:right;">
46
</td>
<td style="text-align:right;">
290212
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen Z
</td>
<td style="text-align:left;">
1997-2012
</td>
<td style="text-align:left;">
Native Hawaiian Alone
</td>
<td style="text-align:right;">
2011
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:right;">
7964
</td>
</tr>
<tr>
<td style="text-align:left;">
Silent
</td>
<td style="text-align:left;">
1928-1945
</td>
<td style="text-align:left;">
Asian Alone
</td>
<td style="text-align:right;">
1936
</td>
<td style="text-align:right;">
83
</td>
<td style="text-align:right;">
50750
</td>
</tr>
<tr>
<td style="text-align:left;">
Gen X
</td>
<td style="text-align:left;">
1965-1980
</td>
<td style="text-align:left;">
American Indian Alone
</td>
<td style="text-align:right;">
1968
</td>
<td style="text-align:right;">
51
</td>
<td style="text-align:right;">
28192
</td>
</tr>
<tr>
<td style="text-align:left;">
Greatest
</td>
<td style="text-align:left;">
&lt; 1927
</td>
<td style="text-align:left;">
Black Alone
</td>
<td style="text-align:right;">
1926
</td>
<td style="text-align:right;">
93
</td>
<td style="text-align:right;">
24189
</td>
</tr>
<tr>
<td style="text-align:left;">
Millennial
</td>
<td style="text-align:left;">
1981-1996
</td>
<td style="text-align:left;">
American Indian Alone
</td>
<td style="text-align:right;">
1993
</td>
<td style="text-align:right;">
26
</td>
<td style="text-align:right;">
41055
</td>
</tr>
<tr>
<td style="text-align:left;">
Post-Z
</td>
<td style="text-align:left;">
&gt; 2012
</td>
<td style="text-align:left;">
Black Alone
</td>
<td style="text-align:right;">
2018
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:right;">
531987
</td>
</tr>
</tbody>
</table>
</div>
<div id="compositions-of-american-generations" class="section level3">
<h3>Compositions of American Generations</h3>
<p>The figure below summarizes the US population by generation. These numbers will vary some depending on the data source. Millenials constitute the plurality of Americans, recently overtaking a Boomer generation that is on the wane.</p>
<pre class="r"><code>gen_pops %&gt;%
  group_by(gen, rank) %&gt;%
  summarize(pop = sum(pop)) %&gt;%
  mutate(lab = round(pop/1000000, 1)) %&gt;%
  ggplot(aes(x = pop, 
             y = reorder(gen, rank), 
             fill = gen)) +
  geom_col(show.legend = FALSE, 
           alpha = 0.75)  +
  geom_text(aes(label = lab), 
            size = 3.5,
            nudge_x = 3000000)+
  hrbrthemes::scale_fill_ipsum()+
  theme(axis.text.x=element_blank(),
        axis.ticks.x=element_blank(),
        panel.grid.major.y = element_blank(),
        panel.grid.major.x = element_blank(),
        plot.title.position = &quot;plot&quot;)+
  xlab(&#39;&#39;) + ylab(&#39;&#39;) +
  labs(title = &#39;Population by American Generation&#39;,
       caption = &#39;SOURCE: US Census, Monthly Postcensal Resident Population plus Armed Forces Overseas, December 2018.&#39;)</code></pre>
<p><img src="/post/american-generations/index_files/figure-html/unnamed-chunk-5-1.png" width="672" /></p>
<pre class="r"><code>gg &lt;- gen_pops %&gt;% 
  group_by(yob, AGE, gen) %&gt;%
  summarize(tot = sum(pop)) %&gt;%
  group_by(gen) %&gt;%
  mutate(tot = max(tot)) %&gt;% #For labels 
  filter(yob %in% c(&#39;1919&#39;, &#39;1928&#39;, &#39;1946&#39;, &#39;1965&#39;, 
                    &#39;1981&#39;, &#39;1997&#39;, &#39;2013&#39;))</code></pre>
<p>The figure below illustrates the US population by single year of age, ranging from the population aged less than a year to the population over 100 (as of December 2018). Generation membership per single year of age is specified by color.</p>
<pre class="r"><code>gen_pops %&gt;%
  ggplot(aes(x = AGE, 
             y = pop, 
             fill = gen)) +
  geom_vline(xintercept = gg$AGE,
             linetype =2, 
             color = &#39;gray&#39;, 
             size = .25)+
  geom_col(show.legend = FALSE, 
           alpha = 0.85,
           width = .7)   +
  annotate(geom=&quot;text&quot;, 
           x = gg$AGE - 4.5, 
           y = gg$tot + 100000, 
           label = gg$gen,
           size = 3.25) +
  xlab(&#39;Age&#39;)+ 
  ylab(&#39;&#39;) +
  hrbrthemes::scale_fill_ipsum()+
  theme(legend.position=&quot;bottom&quot;,
        legend.title = element_blank(),
        panel.grid.major.x=element_blank(),
        panel.grid.minor.x=element_blank(),
        panel.grid.minor.y=element_blank(),
        plot.title.position = &quot;plot&quot;) +
  scale_x_reverse(breaks = rev(gg$AGE)) +
  scale_y_continuous(labels = scales::comma_format())+
  labs(title = &#39;American Population by Single-year Age &amp; Generation&#39;,
       caption = &#39;SOURCE: US Census, Monthly Postcensal Resident Population plus Armed Forces Overseas, December 2018.&#39;)</code></pre>
<p><img src="/post/american-generations/index_files/figure-html/unnamed-chunk-7-1.png" width="672" />
Next, let’s crosscut the single year of age counts presented above by race &amp; ethnicity.</p>
<pre class="r"><code>gen_pops %&gt;%
  ggplot(aes(x = AGE, 
             y = pop, 
             fill = race1)) +
  geom_area(stat = &quot;identity&quot;,
            color = &#39;white&#39;,
            alpha = 0.85) +
  geom_vline(xintercept = gg$AGE,
             linetype =2, color = &#39;gray&#39;, size = .25)+
  annotate(geom=&quot;text&quot;, 
           x = gg$AGE - 4.5, 
           y = gg$tot + 100000, 
           label = gg$gen,
           size = 3.25) +
  xlab(&#39;Age&#39;)+ ylab(&#39;&#39;) +
  hrbrthemes::scale_fill_ipsum(guide = guide_legend(ncol = 4, keyheight = 0.75))+
  theme(legend.position=&quot;bottom&quot;,
        legend.title = element_blank(),
        panel.grid.major.x=element_blank(),
        panel.grid.minor.x=element_blank(),
        panel.grid.minor.y=element_blank(),
        plot.title.position = &quot;plot&quot;,
        legend.key.width = unit(0.5, &quot;cm&quot;)) +
  scale_x_reverse(breaks = rev(gg$AGE) )+
  scale_y_continuous(labels = scales::comma_format())+
  labs(title =&#39;US Population by Age, Race &amp; Generation&#39;,
       caption = &#39;SOURCE: US Census, Monthly Postcensal Resident Population \nplus Armed Forces Overseas, December 2018.&#39;)</code></pre>
<p><img src="/post/american-generations/index_files/figure-html/unnamed-chunk-8-1.png" width="576" /></p>
<pre class="r"><code>white_label &lt;- gen_pops %&gt;% 
  group_by(gen, AGE) %&gt;%
  mutate(per = pop/sum(pop))%&gt;%
  filter(race1 == &#39;White Alone&#39;) %&gt;%
  group_by(gen) %&gt;%
  mutate(per = max(per)) %&gt;% #For labels below.
  arrange(yob) %&gt;%
  filter(yob %in% c(&#39;1919&#39;, &#39;1928&#39;, &#39;1946&#39;, &#39;1965&#39;, 
                    &#39;1981&#39;, &#39;1997&#39;, &#39;2013&#39;))</code></pre>
<p>The last figure illustrates a <strong>proportional perspective of race &amp; ethnicity in America</strong> by single year of age. Per figure, generational differences (at a single point in time) can shed light on (the direction of) potential changes in the overall composition of a given populace, as well as a view of what that populace may have looked like in the past.</p>
<pre class="r"><code>gen_pops %&gt;%
  group_by(gen, AGE) %&gt;%
  mutate(per = pop/sum(pop)) %&gt;%
  ggplot(aes(x = (AGE), 
             y = per, 
             fill = race1)) +
  geom_area(stat = &quot;identity&quot;,
            color = &#39;white&#39;,
            alpha = 0.85) +
  geom_hline(yintercept = .5, 
             linetype = 4,
             color = &#39;white&#39;) +
  geom_vline(xintercept = gg$AGE,
             linetype = 2, 
             color = &#39;gray&#39;, 
             size = .25)+
  annotate(geom=&quot;text&quot;, 
           x = gg$AGE-4.5, 
           y = white_label$per - .05, 
           label = gg$gen,
           size = 3.25,
           color = &quot;black&quot;) +
  xlab(&#39;Age&#39;)+ ylab(&#39;&#39;) +
  hrbrthemes::scale_fill_ipsum(guide = guide_legend(ncol = 4, keyheight = 0.75))+
  theme(legend.position=&quot;bottom&quot;,
        legend.title = element_blank(),
        panel.grid.major.x=element_blank(),
        panel.grid.minor.x=element_blank(),
        plot.title.position = &quot;plot&quot;,
        legend.key.width = unit(0.5, &quot;cm&quot;)) +
  scale_y_continuous(labels = scales::percent_format())+
  scale_x_reverse(breaks = rev(gg$AGE)) +
  labs(title = &#39;American Population by Age, Race &amp; Generation&#39;,
       fill = &quot;&quot;)</code></pre>
<p><img src="/post/american-generations/index_files/figure-html/unnamed-chunk-10-1.png" width="672" /></p>
</div>
<div id="american-generations-in-apparent-time-space" class="section level3">
<h3>American generations in (apparent) time &amp; space</h3>
<p>Aggregate race-ethnicity profiles for America’s seven living generations are presented in the table below. Per <a href="https://github.com/jaytimm/tech-notes-american-politics/blob/master/notes/America_american.md">American Community Survey (ACS) 2018 5-year estimates</a>, the <code>Gen X</code> race-ethnicity profile (or distribution) is most representative of American demographics overall.</p>
<pre class="r"><code>sums &lt;- gen_pops %&gt;%
  group_by(rank, gen, race1) %&gt;%
  summarize(pop = sum(pop))%&gt;%
  group_by(gen) %&gt;%
  mutate(per = round(pop / sum(pop), 3)) 

sums %&gt;%
  select(rank, gen, race1, per) %&gt;%
  mutate(per = scales::percent(per, accuracy = 0.1))%&gt;%
  pivot_wider(names_from = &quot;race1&quot;,
              values_from = &quot;per&quot;) %&gt;%
  knitr::kable(format = &quot;html&quot;, booktabs = T, caption = &quot;Race-Ethnicity Distribution of American Generations&quot;) %&gt;%
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;),
                            full_width = F)  %&gt;%
  kableExtra::row_spec(4, color = &quot;white&quot;, background = &quot;#D18975&quot;)</code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-11">Table 3: </span>Race-Ethnicity Distribution of American Generations
</caption>
<thead>
<tr>
<th style="text-align:right;">
rank
</th>
<th style="text-align:left;">
gen
</th>
<th style="text-align:left;">
American Indian Alone
</th>
<th style="text-align:left;">
Asian Alone
</th>
<th style="text-align:left;">
Black Alone
</th>
<th style="text-align:left;">
Hispanic
</th>
<th style="text-align:left;">
Native Hawaiian Alone
</th>
<th style="text-align:left;">
Two or More Races
</th>
<th style="text-align:left;">
White Alone
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Greatest
</td>
<td style="text-align:left;">
0.4%
</td>
<td style="text-align:left;">
4.4%
</td>
<td style="text-align:left;">
8.0%
</td>
<td style="text-align:left;">
7.7%
</td>
<td style="text-align:left;">
0.1%
</td>
<td style="text-align:left;">
0.6%
</td>
<td style="text-align:left;">
78.9%
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Silent
</td>
<td style="text-align:left;">
0.5%
</td>
<td style="text-align:left;">
4.4%
</td>
<td style="text-align:left;">
8.4%
</td>
<td style="text-align:left;">
8.0%
</td>
<td style="text-align:left;">
0.1%
</td>
<td style="text-align:left;">
0.7%
</td>
<td style="text-align:left;">
77.9%
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Boomers
</td>
<td style="text-align:left;">
0.7%
</td>
<td style="text-align:left;">
4.9%
</td>
<td style="text-align:left;">
10.9%
</td>
<td style="text-align:left;">
10.6%
</td>
<td style="text-align:left;">
0.1%
</td>
<td style="text-align:left;">
1.0%
</td>
<td style="text-align:left;">
71.9%
</td>
</tr>
<tr>
<td style="text-align:right;color: white !important;background-color: #D18975 !important;">
4
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
Gen X
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
0.7%
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
6.7%
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
12.6%
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
18.5%
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
0.2%
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
1.3%
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
60.0%
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Millennial
</td>
<td style="text-align:left;">
0.8%
</td>
<td style="text-align:left;">
7.1%
</td>
<td style="text-align:left;">
13.8%
</td>
<td style="text-align:left;">
20.9%
</td>
<td style="text-align:left;">
0.2%
</td>
<td style="text-align:left;">
2.2%
</td>
<td style="text-align:left;">
55.1%
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Gen Z
</td>
<td style="text-align:left;">
0.8%
</td>
<td style="text-align:left;">
5.3%
</td>
<td style="text-align:left;">
13.8%
</td>
<td style="text-align:left;">
24.5%
</td>
<td style="text-align:left;">
0.2%
</td>
<td style="text-align:left;">
3.8%
</td>
<td style="text-align:left;">
51.6%
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Post-Z
</td>
<td style="text-align:left;">
0.8%
</td>
<td style="text-align:left;">
5.1%
</td>
<td style="text-align:left;">
13.7%
</td>
<td style="text-align:left;">
26.1%
</td>
<td style="text-align:left;">
0.2%
</td>
<td style="text-align:left;">
4.8%
</td>
<td style="text-align:left;">
49.3%
</td>
</tr>
</tbody>
</table>
</div>
<div id="race-ethnicity-profiles-for-us-counties" class="section level3">
<h3>Race-ethnicity profiles for US Counties</h3>
<p>Here, we compare race-ethnicity profiles for US counties to those of American generations. Using the <code>tidycensus</code> R package, we first obtain county-level race-ethnicity estimates (ACS 2018 5-year);</p>
<pre class="r"><code>#x &lt;- tidycensus::load_variables(year = 2018, dataset = &#39;acs5/profile&#39;)
variable &lt;- c(&#39;DP05_0071P&#39;, &#39;DP05_0077P&#39;, &#39;DP05_0078P&#39;,
              &#39;DP05_0079P&#39;, &#39;DP05_0080P&#39;, 
              &#39;DP05_0081P&#39;, &#39;DP05_0082P&#39;, 
              &#39;DP05_0083P&#39;)

variable_name &lt;- c(&#39;Hispanic&#39;, &#39;White Alone&#39;, &#39;Black Alone&#39;,&#39;American Indian Alone&#39;, &#39;Asian Alone&#39;,&#39;Native Hawaiian Alone&#39;, &#39;Some Other Race Alone&#39;,&#39;Two or More Races&#39;)

gen &lt;-  tidycensus::get_acs(geography = &#39;county&#39;,
                            variables = variable,
                            year = 2018,
                            survey = &#39;acs5&#39;) %&gt;%
  left_join(tibble(variable, variable_name))%&gt;%
  select(-variable, -moe) %&gt;%
  rename(variable = variable_name) %&gt;%
  select(GEOID:NAME, variable, estimate)</code></pre>
<p>then, via the <code>tigris</code> library, we obtain shapefiles for (1) all US counties and (2) US states.</p>
<pre class="r"><code>nonx &lt;- c(&#39;78&#39;, &#39;69&#39;, &#39;66&#39;, &#39;72&#39;, &#39;60&#39;, &#39;15&#39;, &#39;02&#39;)

library(tigris)
options(tigris_use_cache = TRUE, 
        tigris_class = &quot;sf&quot;)

us_counties &lt;- tigris::counties(cb = TRUE) %&gt;% 
  filter(!STATEFP %in% nonx)
us_states &lt;- tigris::states(cb = TRUE) %&gt;% 
  filter(!STATEFP %in% nonx)

laea &lt;- sf::st_crs(&quot;+proj=laea +lat_0=30 +lon_0=-95&quot;)
us_counties &lt;- sf::st_transform(us_counties, laea)
us_states &lt;- sf::st_transform(us_states, laea)</code></pre>
</div>
<div id="comparing-distributions" class="section level3">
<h3>Comparing Distributions</h3>
<p>The table below highlights the race-ethnicity distribution for my hometown, in <strong>Buchanan County, IA</strong>, GEOID = 19019.</p>
<pre class="r"><code>gen %&gt;%
  filter(GEOID == &quot;19019&quot;,
         estimate &gt; 0) %&gt;%
  mutate(estimate = scales::percent(estimate/100, accuracy = 0.1)) %&gt;%
  pivot_wider(names_from = &quot;variable&quot;, 
              values_from = &quot;estimate&quot;) %&gt;%
  select(-GEOID, -NAME) %&gt;%
  knitr::kable(format = &quot;html&quot;, 
               booktabs = T,
               caption = &quot;Race-Ethnicity Distribution of Buchanan County, Iowa&quot;) %&gt;%
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;),
                            full_width = F) </code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-14">Table 4: </span>Race-Ethnicity Distribution of Buchanan County, Iowa
</caption>
<thead>
<tr>
<th style="text-align:left;">
Hispanic
</th>
<th style="text-align:left;">
White Alone
</th>
<th style="text-align:left;">
Black Alone
</th>
<th style="text-align:left;">
American Indian Alone
</th>
<th style="text-align:left;">
Asian Alone
</th>
<th style="text-align:left;">
Two or More Races
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
1.5%
</td>
<td style="text-align:left;">
96.3%
</td>
<td style="text-align:left;">
0.1%
</td>
<td style="text-align:left;">
0.3%
</td>
<td style="text-align:left;">
0.6%
</td>
<td style="text-align:left;">
1.2%
</td>
</tr>
</tbody>
</table>
<p>Via <code>Kullback–Leibler divergence</code> (ie, relative entropy), we compare the demographic profile of Buchanan County to the demographic profiles of each American generation. Per the table below, the Buchanan County profile is most similar to that of the <code>Greatest</code> generation. Per the lowest relative entropy value. This is not to say that there are more <code>Greatest</code> generation in Buchanan County; instead, the racial demographics of Buchanan County are most akin to an America when the <code>Greatest</code> generation were in their prime.</p>
<pre class="r"><code>which1 &lt;- gen %&gt;%
  mutate(estimate = ifelse(estimate == 0, .0000001, estimate)) %&gt;%
  inner_join(sums, by = c(&#39;variable&#39; = &#39;race1&#39;)) %&gt;%
  
  mutate(div = estimate/100 * log((estimate/100)/per)) %&gt;%
  group_by(GEOID, NAME, gen) %&gt;%
  summarize (relative_entropy = round(sum(div), 4)) %&gt;%
  ungroup()

which1 %&gt;%
  filter(GEOID == &quot;19019&quot;) %&gt;%
  left_join(gen_desc) %&gt;%
  select(rank, NAME, gen, relative_entropy) %&gt;%
  arrange(rank) %&gt;%
  knitr::kable(format = &quot;html&quot;, booktabs = T, caption = &quot;Kullback–Leibler Divergence of Buchanan County, Iowa&quot;) %&gt;%
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;),
                            full_width = F)  %&gt;%
  kableExtra::row_spec(1, color = &quot;white&quot;, background = &quot;#D18975&quot;)</code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-15">Table 5: </span>Kullback–Leibler Divergence of Buchanan County, Iowa
</caption>
<thead>
<tr>
<th style="text-align:right;">
rank
</th>
<th style="text-align:left;">
NAME
</th>
<th style="text-align:left;">
gen
</th>
<th style="text-align:right;">
relative_entropy
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:right;color: white !important;background-color: #D18975 !important;">
1
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
Buchanan County, Iowa
</td>
<td style="text-align:left;color: white !important;background-color: #D18975 !important;">
Greatest
</td>
<td style="text-align:right;color: white !important;background-color: #D18975 !important;">
0.1585
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Buchanan County, Iowa
</td>
<td style="text-align:left;">
Silent
</td>
<td style="text-align:right;">
0.1676
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Buchanan County, Iowa
</td>
<td style="text-align:left;">
Boomers
</td>
<td style="text-align:right;">
0.2344
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Buchanan County, Iowa
</td>
<td style="text-align:left;">
Gen X
</td>
<td style="text-align:right;">
0.3951
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Buchanan County, Iowa
</td>
<td style="text-align:left;">
Millennial
</td>
<td style="text-align:right;">
0.4682
</td>
</tr>
<tr>
<td style="text-align:right;">
6
</td>
<td style="text-align:left;">
Buchanan County, Iowa
</td>
<td style="text-align:left;">
Gen Z
</td>
<td style="text-align:right;">
0.5242
</td>
</tr>
<tr>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
Buchanan County, Iowa
</td>
<td style="text-align:left;">
Post-Z
</td>
<td style="text-align:right;">
0.5646
</td>
</tr>
</tbody>
</table>
<p>Just for reference, the table below highlights the generational distribution for my hometown, in <strong>Buchanan County, IA</strong>, GEOID = 19019.</p>
<pre class="r"><code>which1 %&gt;%
  filter(GEOID == &quot;19019&quot;) %&gt;%
  mutate(relative_entropy = scales::percent(relative_entropy,accuracy = 0.1)) %&gt;%
  pivot_wider(names_from = &quot;gen&quot;,
              values_from = &quot;relative_entropy&quot;) %&gt;%
    select(-GEOID, -NAME) %&gt;%
  knitr::kable(format = &quot;html&quot;, 
               booktabs = T,
               caption = &quot;Generational Distribution of Buchanan County, Iowa&quot;,) %&gt;%
  kableExtra::kable_styling(bootstrap_options = c(&quot;striped&quot;, &quot;hover&quot;, &quot;condensed&quot;),
                            full_width = F) </code></pre>
<table class="table table-striped table-hover table-condensed" style="width: auto !important; margin-left: auto; margin-right: auto;">
<caption>
<span id="tab:unnamed-chunk-16">Table 6: </span>Generational Distribution of Buchanan County, Iowa
</caption>
<thead>
<tr>
<th style="text-align:left;">
Boomers
</th>
<th style="text-align:left;">
Gen X
</th>
<th style="text-align:left;">
Gen Z
</th>
<th style="text-align:left;">
Greatest
</th>
<th style="text-align:left;">
Millennial
</th>
<th style="text-align:left;">
Post-Z
</th>
<th style="text-align:left;">
Silent
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left;">
23.4%
</td>
<td style="text-align:left;">
39.5%
</td>
<td style="text-align:left;">
52.4%
</td>
<td style="text-align:left;">
15.8%
</td>
<td style="text-align:left;">
46.8%
</td>
<td style="text-align:left;">
56.5%
</td>
<td style="text-align:left;">
16.8%
</td>
</tr>
</tbody>
</table>
<pre class="r"><code>which2 &lt;- which1 %&gt;%
  group_by(GEOID, NAME) %&gt;%
  filter(relative_entropy == min(relative_entropy)) %&gt;%
  ungroup() </code></pre>
<p>So, while <code>Gen X</code> is most representative of America in the aggregate, per the map below, the demographics of America’s youngest &amp; eldest generations are most prevalent at the county-level. <code>Post-Z</code> in the West, and the <code>Greatest</code> in the East &amp; Midwest. New &amp; Old Americas, perhaps.</p>
<pre class="r"><code>us_counties %&gt;%
  left_join(which2, by = &#39;GEOID&#39;) %&gt;%
  ggplot() + 
  geom_sf(aes(fill = gen),  lwd = 0) + 
  geom_sf(data=us_states, 
          fill = NA, 
          show.legend = F, 
          color=&quot;darkgray&quot;, 
          lwd=.5) +
  hrbrthemes::scale_fill_ipsum(guide = guide_legend(ncol = 4, keyheight = 0.75))+
  theme(axis.title.x=element_blank(),
        axis.text.x=element_blank(),
        axis.title.y=element_blank(),
        axis.text.y=element_blank(),
        legend.position = &#39;bottom&#39;,
        plot.title.position = &quot;plot&quot;,
        legend.key.width = unit(0.5, &quot;cm&quot;)) +
  labs(title = &quot;Counties &amp; Generations in America&quot;,
       fill = &quot;&quot;)</code></pre>
<p><img src="/post/american-generations/index_files/figure-html/unnamed-chunk-18-1.png" width="672" /></p>
<pre class="r"><code>ggsave(&quot;featured.png&quot;, device = &quot;png&quot;, height = unit(4,&quot;cm&quot;) , type = &quot;cairo&quot;)</code></pre>
</div>
<div id="conclusion" class="section level3">
<h3>Conclusion</h3>
<p>There are many ways to characterize the different perspectives on the composition of America &amp; American generations, and the changing demographics of America.</p>
<hr />
</div>
<div id="did-you-find-this-page-helpful-consider-sharing-it" class="section level3">
<h3>Did you find this page helpful? Consider sharing it 🙌</h3>
</div>
